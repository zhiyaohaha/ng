!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("rxjs/Subject")):"function"==typeof define&&define.amd?define(["@angular/core","@angular/common","@angular/forms","rxjs/Subject"],e):"object"==typeof exports?exports["ngx-ueditor.umd.min"]=e(require("@angular/core"),require("@angular/common"),require("@angular/forms"),require("rxjs/Subject")):t["ngx-ueditor.umd.min"]=e(t["@angular/core"],t["@angular/common"],t["@angular/forms"],t["rxjs/Subject"])}(this,function(t,e,n,o){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=4)}([function(e,n){e.exports=t},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var o=function(){function t(){this._hook_finished=!1}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var o=n(0),i=(n.n(o),n(6)),r=(n.n(i),n(3)),s=n(1),a=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(t,e,n,i){this.el=t,this.zone=e,this.ss=n,this.defConfig=i,this.events={},this.loading=!0,this.loadingTip="加载中...",this.onPreReady=new o.EventEmitter,this.onReady=new o.EventEmitter,this.onDestroy=new o.EventEmitter,this.onContentChange=new o.EventEmitter,this.onChange=Function.prototype,this.onTouched=Function.prototype}return e=t,t.prototype.ngOnInit=function(){var t=this;if(this.path=this.defConfig&&this.defConfig.path,this.path||(this.path="./assets/ueditor/"),this.id="ueditor-"+ ++e.idPool,this.host.nativeElement.id=this.id,window.UE)return void this.init();this.ss.load(this.path,!0).getChangeEmitter().subscribe(function(e){t.init()})},t.prototype.init=function(t){var e=this;if(!window.UE)throw new Error("uedito js文件加载失败");this.instance||(this.defConfig&&this.defConfig.hook&&(this.defConfig._hook_finished||(this.defConfig._hook_finished=!0,this.defConfig.hook(UE))),this.loading=!1,this.onPreReady.emit(this),this.zone.runOutsideAngular(function(){var n=Object.assign({UEDITOR_HOME_URL:e.path},e.defConfig&&e.defConfig.options,e.config,t),o=UE.getEditor(e.id,n);o.ready(function(){e.zone.run(function(){e.instance=o,e.value&&e.instance.setContent(e.value),e.onReady.emit(e)})}),o.addListener("contentChange",function(){e.updateValue(o.getContent())})}))},t.prototype.updateValue=function(t){var e=this;this.zone.run(function(){e.value=t,e.onChange(e.value),e.onTouched(e.value),e.onContentChange.emit(e.value)})},t.prototype.destroy=function(){if(this.instance){for(var t=0,e=this.events;t<e.length;t++){var n=e[t];this.instance.removeListener(n,this.events[n])}this.instance.removeListener("ready"),this.instance.removeListener("contentChange"),this.instance.destroy(),this.instance=null}this.onDestroy.emit()},Object.defineProperty(t.prototype,"Instance",{get:function(){return this.instance},enumerable:!0,configurable:!0}),t.prototype.setLanguage=function(t){var e=this;this.ss.loadScript(this.path+"/lang/"+t+"/"+t+".js").then(function(n){e.destroy(),UE._bak_I18N||(UE._bak_I18N=UE.I18N),UE.I18N={},UE.I18N[t]=UE._bak_I18N[t],e.init()})},t.prototype.addListener=function(t,e){this.events[t]||(this.events[t]=e,this.instance.addListener(t,e))},t.prototype.removeListener=function(t){this.events[t]&&(this.instance.removeListener(t,this.events[t]),delete this.events[t])},t.prototype.ngOnDestroy=function(){this.destroy()},t.prototype.writeValue=function(t){this.value=t,this.instance&&this.instance.setContent(this.value)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){t?this.instance.setDisabled():this.instance.setEnabled()},t.idPool=0,a([Object(o.Input)(),u("design:type",Object)],t.prototype,"config",void 0),a([Object(o.Input)(),u("design:type",String)],t.prototype,"loadingTip",void 0),a([Object(o.ViewChild)("host"),u("design:type",o.ElementRef)],t.prototype,"host",void 0),a([Object(o.Output)(),u("design:type",Object)],t.prototype,"onPreReady",void 0),a([Object(o.Output)(),u("design:type",Object)],t.prototype,"onReady",void 0),a([Object(o.Output)(),u("design:type",Object)],t.prototype,"onDestroy",void 0),a([Object(o.Output)(),u("design:type",Object)],t.prototype,"onContentChange",void 0),t=e=a([Object(o.Component)({selector:"ueditor",template:'\n    <textarea #host class="ueditor-textarea"></textarea>\n    <p class="loading" *ngIf="loading">{{loadingTip}}</p>\n    ',encapsulation:o.ViewEncapsulation.Emulated,styles:[".ueditor-textarea{display:none;}"],providers:[{provide:i.NG_VALUE_ACCESSOR,useExisting:Object(o.forwardRef)(function(){return e}),multi:!0}]}),u("design:paramtypes",[o.ElementRef,o.NgZone,r.a,s.a])],t);var e}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n(0),i=(n.n(o),n(7)),r=(n.n(i),this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s}),s=function(){function t(){this.loaded=!1,this.list={},this.emitter=new i.Subject}return t.prototype.getChangeEmitter=function(){return this.emitter},t.prototype.load=function(t,e){var n=this;if(this.loaded)return this;this.loaded=!0;var o=[];return t.endsWith("/")||(t+="/"),[t+"ueditor.config.js",!0===e?t+"ueditor.all.js":t+"ueditor.all.min.js"].forEach(function(t){return o.push(n.loadScript(t))}),Promise.all(o).then(function(t){n.emitter.next(!0)}),this},t.prototype.loadScript=function(t){var e=this;return new Promise(function(n,o){if(!0===e.list[t])return void n({path:t,loaded:!0,status:"Loaded"});e.list[t]=!0;var i=document.createElement("script");i.type="text/javascript",i.src=t,i.charset="utf-8",i.readyState?i.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onreadystatechange=null,n({path:t,loaded:!0,status:"Loaded"}))}:i.onload=function(){n({path:t,loaded:!0,status:"Loaded"})},i.onerror=function(e){return n({path:t,loaded:!1,status:"Loaded"})},document.getElementsByTagName("head")[0].appendChild(i)})},t=r([Object(o.Injectable)()],t)}()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"UEditorModule",function(){return c});var o=n(5),i=(n.n(o),n(0)),r=(n.n(i),n(2)),s=n(1),a=n(3);n.d(e,"UEditorComponent",function(){return r.a}),n.d(e,"UEditorConfig",function(){return s.a});var u=this&&this.__decorate||function(t,e,n,o){var i,r=arguments.length,s=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(s=(r<3?i(s):r>3?i(e,n,s):i(e,n))||s);return r>3&&s&&Object.defineProperty(e,n,s),s},c=function(){function t(){}return e=t,t.forRoot=function(t){return{ngModule:e,providers:[{provide:s.a,useValue:t}]}},t=e=u([Object(i.NgModule)({imports:[o.CommonModule],providers:[a.a],declarations:[r.a],exports:[r.a]})],t);var e}()},function(t,n){t.exports=e},function(t,e){t.exports=n},function(t,e){t.exports=o}])});
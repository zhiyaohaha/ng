{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 6c47a9d4d1cb70f98eca","webpack:///external \"@angular/core\"","webpack:///./src/components/ueditor.config.ts","webpack:///./src/components/ueditor.component.ts","webpack:///./src/components/script.service.ts","webpack:///./src/index.ts","webpack:///external \"@angular/common\"","webpack:///external \"@angular/forms\"","webpack:///external \"rxjs/Subject\""],"names":[],"mappings":"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","file":"ngx-ueditor.umd.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"@angular/core\"), require(\"@angular/common\"), require(\"@angular/forms\"), require(\"rxjs/Subject\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"@angular/core\", \"@angular/common\", \"@angular/forms\", \"rxjs/Subject\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ngx-ueditor.umd\"] = factory(require(\"@angular/core\"), require(\"@angular/common\"), require(\"@angular/forms\"), require(\"rxjs/Subject\"));\n\telse\n\t\troot[\"ngx-ueditor.umd\"] = factory(root[\"@angular/core\"], root[\"@angular/common\"], root[\"@angular/forms\"], root[\"rxjs/Subject\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_5__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_7__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 6c47a9d4d1cb70f98eca","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/core\"\n// module id = 0\n// module chunks = 0","export class UEditorConfig {\r\n    /**\r\n     * 默认配置项\r\n     * \r\n     * @type {*}\r\n     */\r\n    options?: any;\r\n\r\n    /**\r\n     * 指定ueditor.js路径\r\n     * \r\n     * @type {string}\r\n     */\r\n    path?: string;\r\n\r\n    /**\r\n     * Hook\r\n     * \r\n     * @type {Promise<any>}\r\n     */\r\n    hook?: Function;\r\n\r\n    // 用于标记hook是否已经注册完成\r\n    _hook_finished?: boolean = false;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ueditor.config.ts","import { Component, Input, forwardRef, ViewChild, ElementRef, OnDestroy, EventEmitter, Output, NgZone, ViewEncapsulation } from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\n\nimport { ScriptService } from './script.service';\nimport { UEditorConfig } from './ueditor.config';\n\ndeclare const window: any;\ndeclare const UE: any;\n\nexport type EventTypes = 'destroy' | 'reset' | 'focus' | 'langReady' | 'beforeExecCommand' | 'afterExecCommand' | 'firstBeforeExecCommand' | 'beforeGetContent' | 'afterGetContent' | 'getAllHtml' | 'beforeSetContent' | 'afterSetContent' | 'selectionchange' | 'beforeSelectionChange' | 'afterSelectionChange';\n\n@Component({\n    selector: 'ueditor',\n    template: `\n    <textarea #host class=\"ueditor-textarea\"></textarea>\n    <p class=\"loading\" *ngIf=\"loading\">{{loadingTip}}</p>\n    `,\n    encapsulation: ViewEncapsulation.Emulated,\n    styles: [ `.ueditor-textarea{display:none;}` ],\n    providers: [{\n        provide: NG_VALUE_ACCESSOR,\n        useExisting: forwardRef(() => UEditorComponent),\n        multi: true\n    }],\n})\nexport class UEditorComponent implements OnDestroy, ControlValueAccessor {\n    static idPool = 0;\n\n    private instance: any;\n    private value: string;\n    private path: string;\n    private events:any = {};\n\n    loading: boolean = true;\n    id: string;\n\n    @Input() config: any;\n    @Input() loadingTip: string = '加载中...';\n    @ViewChild('host') host: ElementRef;\n\n    @Output() onPreReady = new EventEmitter<UEditorComponent>();\n    @Output() onReady = new EventEmitter<UEditorComponent>();\n    @Output() onDestroy = new EventEmitter();\n    @Output() onContentChange = new EventEmitter();\n\n    constructor(private el: ElementRef,\n                private zone: NgZone,\n                private ss: ScriptService,\n                private defConfig: UEditorConfig) {}\n\n    ngOnInit() {\n        this.path = this.defConfig && this.defConfig.path;\n        if (!this.path) this.path = './assets/ueditor/';\n\n        // 构建一个虚拟id\n        this.id = 'ueditor-' + ++UEditorComponent.idPool;\n        this.host.nativeElement.id = this.id;\n\n        // 已经存在对象无须进入懒加载模式\n        if (window.UE) {\n            this.init();\n            return;\n        }\n\n        this.ss.load(this.path, true).getChangeEmitter().subscribe(res => {\n            this.init();\n        });\n    }\n\n    private init(options?: any) {\n        if (!window.UE)\n            throw new Error('uedito js文件加载失败');\n\n        if (this.instance) return;\n\n        // registrer hook\n        if (this.defConfig && this.defConfig.hook) {\n            if (!this.defConfig._hook_finished) {\n                this.defConfig._hook_finished = true;\n                this.defConfig.hook(UE);\n            }\n        }\n\n        this.loading = false;\n        this.onPreReady.emit(this);\n        this.zone.runOutsideAngular(() => {\n            const opt = Object.assign({\n                UEDITOR_HOME_URL: this.path\n            }, this.defConfig && this.defConfig.options, this.config, options);\n\n            let ueditor = UE.getEditor(this.id, opt);\n            ueditor.ready(() => {\n                this.zone.run(() => {\n                    this.instance = ueditor;\n                    this.value && this.instance.setContent(this.value);\n                    this.onReady.emit(this);\n                });\n            })\n\n            ueditor.addListener('contentChange', () => {\n                this.updateValue(ueditor.getContent());\n            });\n        });\n    }\n\n    private updateValue(value: string){\n        this.zone.run(() => {\n            this.value = value;\n\n            this.onChange(this.value);\n            this.onTouched(this.value);\n\n            this.onContentChange.emit(this.value);\n        });\n    }\n\n    private destroy() {\n        if (this.instance) {\n            for (let ki of this.events) {\n                this.instance.removeListener(ki, this.events[ki]);\n            }\n            this.instance.removeListener('ready');\n            this.instance.removeListener('contentChange');\n            this.instance.destroy();\n            this.instance = null;\n        }\n        this.onDestroy.emit();\n    }\n\n    /**\n     * 获取UE实例\n     *\n     * @readonly\n     */\n    get Instance(): any {\n        return this.instance;\n    }\n\n    /**\n     * 设置编辑器语言\n     *\n     * @param {('zh-cn' | 'en')} lang\n     */\n    setLanguage(lang: 'zh-cn' | 'en') {\n        this.ss.loadScript(`${this.path}/lang/${lang}/${lang}.js`).then(res => {\n            this.destroy();\n\n            //清空语言\n            if (!UE._bak_I18N) {\n                UE._bak_I18N = UE.I18N;\n            }\n            UE.I18N = {};\n            UE.I18N[lang] = UE._bak_I18N[ lang ];\n\n            this.init();\n        });\n    }\n\n    /**\n     * 添加编辑器事件\n     */\n    addListener(eventName: EventTypes, fn: Function): void {\n        if (this.events[eventName]) return;\n        this.events[eventName] = fn;\n        this.instance.addListener(eventName, fn);\n    }\n\n    /**\n     * 移除编辑器事件\n     */\n    removeListener(eventName: EventTypes): void {\n        if (!this.events[eventName]) return;\n        this.instance.removeListener(eventName, this.events[eventName]);\n        delete this.events[eventName];\n    }\n\n    ngOnDestroy() {\n        this.destroy();\n    }\n\n    writeValue(value: string): void {\n        this.value = value;\n        if(this.instance){\n            this.instance.setContent(this.value);\n        }\n    }\n\n    protected onChange: any = Function.prototype;\n    protected onTouched: any = Function.prototype;\n\n    public registerOnChange(fn: (_: any) => {}): void { this.onChange = fn; }\n    public registerOnTouched(fn: () => {}): void { this.onTouched = fn; }\n\n    setDisabledState(isDisabled: boolean): void {\n        if (isDisabled) {\n            this.instance.setDisabled();\n        } else {\n            this.instance.setEnabled();\n        }\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ueditor.component.ts","import { Injectable } from '@angular/core';\r\nimport { Subject } from \"rxjs/Subject\";\r\n\r\ndeclare const document: any;\r\n\r\n@Injectable()\r\nexport class ScriptService {\r\n\r\n    private loaded: boolean = false;\r\n    private list: any = {};\r\n    private emitter: Subject<boolean> = new Subject<boolean>();\r\n\r\n    getChangeEmitter() {\r\n        return this.emitter;\r\n    }\r\n\r\n    load(path: string, debug?:boolean) {\r\n        if (this.loaded) return this;\r\n\r\n        this.loaded = true;\r\n\r\n        let promises: Promise<any>[] = [];\r\n\r\n        if (!path.endsWith('/')) path += '/';\r\n\r\n        [ `${path}ueditor.config.js`, debug === true ? `${path}ueditor.all.js` : `${path}ueditor.all.min.js` ].forEach((script) => promises.push(this.loadScript(script)));\r\n\r\n        Promise.all(promises).then(res => {\r\n            this.emitter.next(true);\r\n        });\r\n\r\n        return this;\r\n    }\r\n\r\n    loadScript(path: string): Promise<any> {\r\n        return new Promise((resolve, reject) => {\r\n            if (this.list[path] === true) {\r\n                resolve(<any>{\r\n                    path: path,\r\n                    loaded: true,\r\n                    status: 'Loaded'\r\n                });\r\n                return;\r\n            }\r\n\r\n            this.list[path] = true;\r\n\r\n            let node = document.createElement('script');\r\n            node.type = 'text/javascript';\r\n            node.src = path;\r\n            node.charset = 'utf-8';\r\n            if (node.readyState) { // IE\r\n                node.onreadystatechange = () => {\r\n                    if (node.readyState === \"loaded\" || node.readyState === \"complete\") {\r\n                        node.onreadystatechange = null;\r\n                        resolve(<any>{\r\n                            path: path,\r\n                            loaded: true,\r\n                            status: 'Loaded'\r\n                        });\r\n                    }\r\n                };\r\n            } else {\r\n                node.onload = () => {\r\n                    resolve(<any>{\r\n                        path: path,\r\n                        loaded: true,\r\n                        status: 'Loaded'\r\n                    });\r\n                };\r\n            }\r\n            node.onerror = (error: any) => resolve(<any>{\r\n                path: path,\r\n                loaded: false,\r\n                status: 'Loaded'\r\n            });\r\n            document.getElementsByTagName('head')[0].appendChild(node);\r\n        });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/script.service.ts","import { CommonModule } from '@angular/common';\nimport { NgModule, ModuleWithProviders } from '@angular/core';\n\nimport { UEditorComponent } from './components/ueditor.component';\nimport { UEditorConfig } from './components/ueditor.config';\nimport { ScriptService } from './components/script.service';\n\nexport { UEditorComponent } from './components/ueditor.component';\nexport { UEditorConfig } from './components/ueditor.config';\n\n@NgModule({\n  imports: [CommonModule],\n  providers: [ ScriptService ],\n  declarations: [UEditorComponent],\n  exports: [UEditorComponent]\n})\nexport class UEditorModule {\n    static forRoot(config: UEditorConfig): ModuleWithProviders {\n        return {\n            ngModule: UEditorModule,\n            providers: [\n                { provide: UEditorConfig, useValue: config }\n            ]\n        };\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","module.exports = __WEBPACK_EXTERNAL_MODULE_5__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/common\"\n// module id = 5\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"@angular/forms\"\n// module id = 6\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs/Subject\"\n// module id = 7\n// module chunks = 0"],"sourceRoot":""}
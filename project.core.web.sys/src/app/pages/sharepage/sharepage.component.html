<md-sidenav-container>

    <div class="main-container clearfix">
        <search-form [filters]="searchFilters" [condition]="filters" (onSearch)="onSearch($event)"></search-form>
    </div>

    <app-table [data]="filteredData" [columns]="columns" [totals]="filteredTotal" [clickAuthority]="authorities.indexOf(authorityKey+'.Update') || authorities.indexOf(authorityKey+'.Detail')" [pageLinkCount]="pageLinkCount" (change)="page($event)" (rowClick)="rowClickEvent($event);sidenav.open()"></app-table>

    <md-sidenav #sidenav class="sidenav container-fluid" align="end" (open-start)="sidenavOpen()" (close)="closeEnd()">
        <div class="row">
            <div class="col-lg-12">
                <form #sysEdit="ngForm">
                    <ng-container *ngFor="let item of modalDOMS">
                        <ng-container class="form-group" [ngSwitch]="item.ui.displayType" *ngIf="selectRow">
                            <md-input-container *ngSwitchCase="'text'" [ngStyle]="{'display': item.ui.hidden ? 'none' : 'show'}">
                                <input mdInput id="" ngModel name="{{item.name}}" placeholder="{{item.ui.placeholder}}" [(ngModel)]="selectRow[item.name]" [disabled]="item.ui.isDisabled" spellcheck="false">
                            </md-input-container>
                            <md-input-container *ngSwitchCase="'hidden'" [ngStyle]="{'display': item.ui.hidden ? 'none' : 'show'}">
                                <input mdInput id="" ngModel name="{{item.name}}" placeholder="{{item.ui.placeholder}}" [(ngModel)]="selectRow[item.name]" disabled="{{item.ui.isDisabled}}" spellcheck="false">
                            </md-input-container>
                            <div *ngSwitchCase="'textarea'" [ngStyle]="{'display': item.ui.hidden ? 'none' : 'show'}">
                                <textarea ngModel name="{{item.name}}" placeholder="{{item.ui.placeholder}}" [(ngModel)]="selectRow[item.name]" [disabled]="item.ui.isDisabled" spellcheck="false"></textarea>
                            </div>
                            <md-select *ngSwitchCase="'select'" placeholder="{{item.ui.placeholder}}" name="selector" [(ngModel)]="selectedValue">
                                <md-option *ngFor="let timi of item.bindData" [value]="timi.value">
                                    {{ timi.text }}
                                </md-option>
                            </md-select>
                            <div *ngSwitchCase="'daterange'">
                                <md-input-container>
                                    <input mdInput [mdDatepicker]="picker" placeholder="起始时间">
                                    <md-datepicker-toggle mdSuffix [for]="picker"></md-datepicker-toggle>
                                    <md-datepicker #picker></md-datepicker>
                                </md-input-container>
                                &nbsp;&nbsp;--&nbsp;&nbsp;
                                <md-input-container>
                                    <input mdInput [mdDatepicker]="picker2" placeholder="截至时间">
                                    <md-datepicker-toggle mdSuffix [for]="picker2"></md-datepicker-toggle>
                                    <md-datepicker #picker2></md-datepicker>
                                </md-input-container>
                            </div>
                            <div *ngSwitchCase="'tags'">
                                <free-chip-group *ngIf="chips" [chips]="chips" [placeholder]="item.ui.placeholder" (chipsChange)="chipsChange($event)"></free-chip-group>
                                <input ngModel type="hidden" name="{{item.name}}" [(ngModel)]="tags">
                            </div>
                        </ng-container>
                    </ng-container>
                    <button md-raised-button (click)="subEdit(sysEdit.value)">确定</button>
                </form>
            </div>
        </div>
    </md-sidenav>
</md-sidenav-container>
